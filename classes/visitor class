<?php
class Visitor extends User{

  public static function sign_in ($email,$password){
        $sql = "SELECT email FROM registered_user WHERE email ='$email';"
        $statement = Database::$db->prepare($sql);
        $statement->execute();
        if ($email=$statement)
        {

          $sql ="SELECT Password FROM registered_user WHERE Password ='$password';"
          $statement = Database::$db->prepare($sql);
          $statement->execute();
          if ($password=$statement)
              return 1;  //login success registered-user

        }
        else if {
          $sql = "SELECT email FROM specialist WHERE email ='$email';"
          $statement = Database::$db->prepare($sql);
          $statement->execute();
          if ($email=$statement)
          {
            $sql ="SELECT Password FROM specialist WHERE Password ='$password';"
            $statement = Database::$db->prepare($sql);
            $statement->execute();
            if ($password=$statement)
                return 1;   // login success specialist
          }
        }
        else return 0; // login failed
  }

public static function sign_up ($email,$password,$FirstName,$LastName){
    $sql = "SELECT email FROM user WHERE email ='$email';"
    $statement = Database::$db->prepare($sql);
    $statement->execute();
  $row = $statement->fetch(PDO::FETCH_ASSOC)
    if ($email==$row['email'])
    {
        return 0; //signup error
    }
    $sql = "INSERT INTO user (first_name,last_name,email,password) VALUES (?,?,?,?)";
    Database::$db->prepare($sql)->execute([$FirstName,$LastName,$email,$password]);
    return 1; //signup success
  }

  public static function sign_up_specialist ($email,$password,$FirstName,$LastName,$bankinfo){
    $sql = "SELECT email FROM specialist WHERE email ='$email';"
    $statement = Database::$db->prepare($sql);
    $statement->execute();
    if ($email=$statement)
    {
        return 0; //signup error
    }
    $sql = "INSERT INTO specialist (firstName,LastName,email,Password,bankinfo) VALUES (?,?,?,?)";
    Database::$db->prepare($sql)->execute([$FirstName,$LastName,$email,$password,$bankinfo]);
    return 1; //signup success
  }

}
?>
